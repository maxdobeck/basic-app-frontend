language: node_js
node_js:
- '8'
- '10'
cache: yarn
install:
- yarn install
script:
- yarn lint
- yarn build
jobs:
  include:
  #- stage: deploy to dev
  #  node_js: '8'
  #  script: skip
  #  deploy:
  #    provider: heroku
  #    on: dev
  #    app:
  #      dev: secret-everglades-78583
  #    api_key:
  #        secure: "iQFw6d3bhO8o7um9hHOOClFrAIwCi6gxO8S85vFVM1lolVFEr5G109vY/K+F0/bQY1VtD8cdIOIMkX+B7J7zsmCBtkGq9lv/JOK9ezvDlnvGlCjYJCmBEIgIqFsF/4Uk21oHB+Al9hKGX2UZNREQlifx0Cjs74h/PEOaZ3Rm9+wKkvvpLSZxHv3C7APP2MxrdNJwuT2Z1BYWTEThz5EfPHbddqMGlDXlSZncCk3MnW9t1Owq59sE9pDOgztl3mvYYUDlNnThbZcQcL+eqcCrbulnl7vCddmie+vEDEFocRL0tZasGUV9SNKkBBO+i5Z1tBAFXPqxXUGhNL+6GOSwdcYHFXJ9suWB6ejjVe27MNGXL2LZjaiJB6COd3yfNd5OljD/kbw+qaulgwptGJO044sMtj+KiApbkTTioo+qmT2NrCqF5eqp1zKfJM8J77kLTfnpRNxC+4yPvbmayq9QbceIXh+lYc4zOryzuCGlsZEkoC3nUrWrn4ftfF8+kKQj2zsmkumGS6NJNhziU5yxyXzZ+kfg8cLwNQ7DIYU6ECOFqPsLRKKD9oK5lxazUZC0N6S33/xrsaeV41o3gdQQh7LKJ27OJaFfXuxUin2rK9LG5TxcwfeBADfPUbXqZvzqSin6jMhvlx7EeIwvkeoHtv7PSt5xM0kgP63PU9e5TwI="
  - stage: deploy to s3 dev
    deploy:
      install: skip
      script: skip
      provider: s3
      on: dev
      access_key_id: "AKIAIMTCJ264OCT3MDRA"
      secret_access_key: "m0GG48D6PfsA4WpV3tlB+2KZbIKfYTVNWzph8lvlix7Zt6UNcNUXUVyUl6kLrmX/dCQHVtNn3ZfrnT11pGCpddGZ6+6kSUO30mtj6NroGULpYOTW/BVLkHfIM0KdK/sBRkvqDq1dbS/fiBsn0UJybdye2iWb7LDUDQoBcWx3ti1M1XCoZJ84FtCnG4Tc4U3JDqJL6DsnhTr+zJu5k3mF10+9sfiYamLt12nlav0Bq74eBS5+Ktkr4h+f6/qpWMq3nX00EEcK0MgLNI5gz3ufchoabRV/Dugem5TXVOXrK/Cfr6yJO8DjeylG4yM6x9x+yoOpeK8Wij0/PnO/mD2/560CHqwVtN7ppojb8uC9N9NqcYJVG1xwqnyh5fsawceQO2WIDyqus1ZN0amET0NNkElMpn1B1FXbh4W46rDYCDFjxWuU9rWIm9M9vwYnW2359V+ll4azRgRYfOiLuK9LkrbgTW9197iDPKbJPu88CFZVlFboBohgCnxiyfjSNmTHPfD7VhpaKULzYUOp2MzewM45d3mNNpJNknVg6JsNrlHtZuhA/RNRb9XYWW2ziPuXYOEffBwWqGQRtdBUC5NYGu+tTJ74cXFrMB40SCFH00NATj/pxcW0fsA91AxNFDyCOsCchWUKHK2iGVQzTGbNYmeP3EYVG8ehFu1noJHkRBY="
      # deploy to http://s3-sih-test.s3-website-us-west-1.amazonaws.com
      bucket: "s3-sih-test"
      region: "us-west-1"
      skip_cleanup: true
      local_dir: dist
