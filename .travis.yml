language: node_js
node_js:
  - "8"
  - "9"
  - "lts/*"

cache: yarn

install:
  - yarn install

script:
  - yarn lint
  - yarn build

jobs:
  include:
    - stage: deploy to staging
      node_js: "9"
      script: skip
      deploy:
        provider: heroku
        on: master
        app:
          master: secret-everglades-78583
        api_key:
          secure: "Jdf0RglA17x1tujXZoGCTbRNoq2QwmnRgHxIvzCgSJu6Mvl9brIgfQpYSzivpu4sBY/iifkmBTWyopmIHEaTjKrrkWpTC+zsZ0jS0wAkGMIFxBfaRrJP3slj4rDajJ6KfYLyX33uhDli+1Mn2GXYCfNfYs5fdhRRHzBEFR5fhk1cHki9AafLn/NCl2Nlq7bDRwYxNO2dfVALNbPdy4ezlArkdtvaue7ImupiOgRfMQynzX9JhWCG/Dbwk/eRpijye5CcKV07z/U0ZIWqB8PDCUFy8FBu8jiHHuk9VqgLHM5HGfYEbL40qOJV1ZK3gAK2DRlxc433NFeRiOgmRxVZQLvuitA7OIKsYc0kLncBwBdO+NQqnM8gSBRQ9+umgllfpewLemjmCsT+9PMj40Fwfu1i4WdvZjIttS8L0ylTF2dO10shnkt/ng9iWf5KJuYYVoaqew3KwkktTZsfC2Tt9fKOl024JdtJQDYl9iKq0VvPqAJd91EEceMpttZ2wByq2rHJyWohzPADLldXxOh1kXCltLNpD3KaNwMk7dtDrtpAjGAH6KUCdUsLrviN945EDpSFTwYmyhO9jo5jOaJu8vurOXYub/LfupdkrmBx2EGC+mHezeJKlfT0n0/wzo8PJJQUEzjmaeHAy5pXgOtvCDPXEs5NmA+tsKHZoZ2e2nY="
