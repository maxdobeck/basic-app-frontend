language: node_js
node_js:
- '8'
- '10'
cache: yarn
install:
- yarn install
script:
- yarn lint
- yarn build
jobs:
  include:
  #- stage: deploy to dev
  #  node_js: '8'
  #  script: skip
  #  deploy:
  #    provider: heroku
  #    on: dev
  #    app:
  #      dev: secret-everglades-78583
  #    api_key:
  #        secure: "iQFw6d3bhO8o7um9hHOOClFrAIwCi6gxO8S85vFVM1lolVFEr5G109vY/K+F0/bQY1VtD8cdIOIMkX+B7J7zsmCBtkGq9lv/JOK9ezvDlnvGlCjYJCmBEIgIqFsF/4Uk21oHB+Al9hKGX2UZNREQlifx0Cjs74h/PEOaZ3Rm9+wKkvvpLSZxHv3C7APP2MxrdNJwuT2Z1BYWTEThz5EfPHbddqMGlDXlSZncCk3MnW9t1Owq59sE9pDOgztl3mvYYUDlNnThbZcQcL+eqcCrbulnl7vCddmie+vEDEFocRL0tZasGUV9SNKkBBO+i5Z1tBAFXPqxXUGhNL+6GOSwdcYHFXJ9suWB6ejjVe27MNGXL2LZjaiJB6COd3yfNd5OljD/kbw+qaulgwptGJO044sMtj+KiApbkTTioo+qmT2NrCqF5eqp1zKfJM8J77kLTfnpRNxC+4yPvbmayq9QbceIXh+lYc4zOryzuCGlsZEkoC3nUrWrn4ftfF8+kKQj2zsmkumGS6NJNhziU5yxyXzZ+kfg8cLwNQ7DIYU6ECOFqPsLRKKD9oK5lxazUZC0N6S33/xrsaeV41o3gdQQh7LKJ27OJaFfXuxUin2rK9LG5TxcwfeBADfPUbXqZvzqSin6jMhvlx7EeIwvkeoHtv7PSt5xM0kgP63PU9e5TwI="
  - stage: deploy to s3 dev
    deploy:
      node_js: '8'
      script:
      - yarn build
      provider: s3
      on: dev
      access_key_id: "AKIAIMTCJ264OCT3MDRA"
      secret_access_key: 
        secure: "Ai5dgNtGnkaBxJPh5Trp7sRBVLIpC2MAmXpdg+6oyYv+BWiuuO+rUC4dCkuLWrbRVK/FiuBOAev5UHR4qPcXfv4bu5xplk5UC8bZVxfJcG0zYbaJC/kP/BcYtjiSLLtOIz1HWFsUICsCYSx14X2oXepvsWBQmMFTvFJupBGi+gf1x7BUYeRkAU03DfRZ8swVydLn/vamTVU0i9LHew+Kyb7EPJZwDc3etunWqf+60jNPWDdgZsunK9uPl5/bjQ+VfEp2vP3rJHIt97h+I97w72kd+8C0NWNry5d8G8M0xheMra/4YYu7SSqbp9ZEFRYaHNROi8sH8dYFVAt4nC8tvzK87IvP0dFWnojWJPpj2ZrQcqjrCLEP+tccs8jYKShPtThOo1C9Zu4kMYl68KGeZ958L8yYnMa68zXHT69JFIqhjqnNA6ne1PHkV/QN26+Q4xATHODu7FhVt7UL/PM2xfjGrm9DmuOXCkA1Eqqy5GiVBR1CvOzkQuPJz/OJOy1613RxNBFW21j5Hr3+9FG4jPaueJ8159U6dH+zZxBMGED6MRvy0jgi2Hch04DumlnEBOqtNFLAh5t64QJoLhJeaj/TaeZDhpOFsdMNKGApZJ70ZXAxts2rrsXqHwZiiy8jGS/NzY3qTTHjVcYu3CWgT1bzBMK1FjK2f6/frDtFNyo="
      # deploy to http://s3-sih-test.s3-website-us-west-1.amazonaws.com
      bucket: "s3-sih-test"
      region: "us-west-1"
      skip_cleanup: true
      local_dir: dist
